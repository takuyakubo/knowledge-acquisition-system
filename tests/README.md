# テストガイドライン

このディレクトリには情報収集・知識管理サブシステムのテストコードが含まれています。

## テスト構成

```
tests/
├── unit/                 # 単体テスト
│   ├── data_collection/  # データ収集モジュールテスト
│   ├── knowledge_extraction/ # 知識抽出モジュールテスト
│   ├── knowledge_graph/  # 知識グラフモジュールテスト
│   └── document_management/ # ドキュメント管理モジュールテスト
│
├── integration/          # 統合テスト
│   ├── data_flow/        # データフロー統合テスト
│   └── api/              # API統合テスト
│
├── performance/          # パフォーマンステスト
│   ├── large_data/       # 大規模データ処理テスト
│   └── concurrency/      # 並行処理テスト
│
├── fixtures/             # テスト用データ
│   ├── documents/        # サンプルドキュメント
│   ├── responses/        # モックAPIレスポンス
│   └── vectors/          # サンプルベクトルデータ
│
└── conftest.py           # pytest共通設定
```

## テスト戦略

### 単体テスト
- 各モジュールの独立した機能をテスト
- モックとスタブを活用して外部依存を分離
- 入力バリデーションと境界条件の検証

### 統合テスト
- モジュール間の相互作用をテスト
- エンドツーエンドのデータフローの検証
- APIエンドポイントの機能検証

### パフォーマンステスト
- 大規模データセット処理時の性能測定
- メモリ使用量とCPU負荷の監視
- 並行リクエスト処理の安定性確認

## テスト実行方法

```bash
# 全テスト実行
pytest

# 単体テストのみ実行
pytest tests/unit/

# 特定モジュールのテスト実行
pytest tests/unit/data_collection/

# パフォーマンステスト実行
pytest tests/performance/
```

## テストカバレッジ目標

- 単体テスト: 90%以上のコードカバレッジ
- 統合テスト: 主要データフローパスの100%カバレッジ
- エッジケース: 例外処理と境界条件の徹底的なテスト